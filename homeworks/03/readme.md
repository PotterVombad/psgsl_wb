#### 1. Создать таблицу с текстовым полем и заполнить случайными или сгенерированными данным в размере 1 млн строк
    зашел в постгрес в докере из прошллой домашки
        docker exec -it postgres17 psql -U postgres
    в новой схеме создал табличку и заполнил ее данными 
        CREATE TABLE pf_03.test_table (
            id SERIAL PRIMARY KEY,
            smth INTEGER
        );
        INSERT INTO pf_03.test_table(smth)
        SELECT (random() * 1000)::INTEGER
        FROM generate_series(1, 1000000);
#### 2. Посмотреть размер файла с таблицей
    SELECT pg_size_pretty(pg_table_size('pf_03.test_table'));
    35 MB
#### 3. 5 раз обновить все строчки и добавить к каждой строчке любой символ
    update pf_03.test_table set smth = smth + 1 ;
#### 4. Посмотреть количество мертвых строчек в таблице и когда последний раз приходил автовакуум
    SELECT schemaname,
       relname,
       n_dead_tup,
       last_autovacuum
    FROM pg_stat_all_tables
    WHERE schemaname = 'pf_03'
        AND relname = 'test_table';

    немного долго возился, все успело почиститься

    schemaname |  relname   | n_dead_tup |        last_autovacuum        
    ------------+------------+------------+-------------------------------
    pf_03      | test_table |          0 | 2025-03-29 13:42:21.839995+00
#### 5. Подождать некоторое время, проверяя, пришел ли автовакуум
#### 6. 5 раз обновить все строчки и добавить к каждой строчке любой символ
#### 7. Посмотреть размер файла с таблицей
    207 MB
#### 8. Отключить Автовакуум на конкретной таблице
    ALTER TABLE pf_03.test_table SET (autovacuum_enabled = false);
#### 9. 10 раз обновить все строчки и добавить к каждой строчке любой символ
#### 10. Посмотреть размер файла с таблицей
    сначала получил 207 MB, потом 380 MB 
#### 11. Объясните полученный результат
    ву нас сначала не увеличивалась память, потому что уже было заложено какое то количество памяти под мертвые строки (те которые мы еще чистили вакуумом), после перехода этого порога, память опять начала расти, а чтобы полностью пересобрать таблицу и вернуться к исходной памяти (35 мб при вставке) нужно сделать VACUUM FULL pf_03.test_table;
#### 12. Не забудьте включить автовакуум)
    ALTER TABLE pf_03.test_table RESET (autovacuum_enabled);